<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ | –ö–æ–ª–µ—Å–∞ –°–≤–æ–±–æ–¥—ã</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body>
    <header class="navbar">
        <div class="navbar-left">
            <img src="https://i.pinimg.com/1200x/f6/98/9d/f6989d8bd40e77f43fcb3290bb34b66c.jpg" alt="–õ–æ–≥–æ—Ç–∏–ø –ö–æ–ª–µ—Å–∞ –°–≤–æ–±–æ–¥—ã" class="logo-img">
            <div class="logo-text">–ö–æ–ª–µ—Å–∞ –°–≤–æ–±–æ–¥—ã</div>
        </div>

        <nav class="menu">
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="cars.html">–ö–∞—Ç–∞–ª–æ–≥</a>
            <a href="booking.html">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a> 
            <a href="trips.html">–ü–æ–µ–∑–¥–∫–∏</a>   
            <a href="admin_dashboard.html">–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</a> 
            <a href="profile.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>           
        </nav>
    </header>

    <div class="admin-content">
        <div id="bookings-section" style="display: none;">
            <h3>–ó–∞—è–≤–∫–∏ –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</h3>
            <div id="bookings-list"></div>
        </div>
    </div>  
    <div class="admin-content">
            <h2 class="admin-header-title">–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
            <span id="adminName" class="admin-name">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: –ú–∞—Ä–∏—è</span>    

                <section id="bookings-section" class="content-section active">
                    <h3 class="subsection-header">–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>                   
                    <div class="data-grid">
                        <div class="data-card stat-card">
                            <h4>–ù–æ–≤—ã—Ö –∑–∞—è–≤–æ–∫</h4>
                            <p class="stat-number primary-gold-text"></p>
                        </div>
                        <div class="data-card stat-card">
                            <h4>–ê–∫—Ç–∏–≤–Ω—ã—Ö –∞—Ä–µ–Ω–¥</h4>
                            <p class="stat-number deep-charcoal-text"></p>
                        </div>
                        <div class="data-card stat-card">
                            <h4>–ù–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏</h4>
                            <p class="stat-number red-text"></p>
                        </div>
                    </div>

                    <h3 class="subsection-header">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞—è–≤–∫–∏</h3>
               <!-- <div id="bookings-list" class="data-list">
                        <div class="booking-card data-card">
                            <h4>–ó–∞—è–≤–∫–∞ #845 | –°–µ–¥–∞–Ω Toyota</h4>
                            <p>–ö–ª–∏–µ–Ω—Ç: **–ò–≤–∞–Ω–æ–≤ –ò.** | –¢–µ–ª–µ—Ñ–æ–Ω: +7 (911) 789-00-11</p>
                            <p>–ü–µ—Ä–∏–æ–¥: 12.11.2025 - 15.11.2025</p>
                            <span class="status-tag status-new">–ù–æ–≤–∞—è</span>
                            <button class="action-btn">–û–±—Ä–∞–±–æ—Ç–∞—Ç—å</button>
                        </div>
                        <div class="booking-card data-card">
                            <h4>–ó–∞—è–≤–∫–∞ #844 | –í–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫ Nissan</h4>
                            <p>–ö–ª–∏–µ–Ω—Ç: **–°–º–∏—Ä–Ω–æ–≤–∞ –ê.** | –¢–µ–ª–µ—Ñ–æ–Ω: +7 (921) 123-45-67</p>
                            <p>–ü–µ—Ä–∏–æ–¥: 05.11.2025 - 08.11.2025</p>
                            <span class="status-tag status-approved">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞</span>
                            <button class="action-btn">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
                        </div>
                    </div> -->
                </section>




        <!-- <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
        document.addEventListener('DOMContentLoaded', function() {
            const userRole = localStorage.getItem('userRole');
            const userName = localStorage.getItem('userName');
            
            if (userRole !== 'admin') {
                window.location.href = '/login';
                return;
            }
            
            if (userName) {
                document.getElementById('adminName').textContent = '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: ' + userName;
            }
        });

        async function showBookings() {
            try {
                const response = await fetch('/api/admin/bookings');
                const bookings = await response.json();
                
                const bookingsList = document.getElementById('bookings-list');
                bookingsList.innerHTML = bookings.map(booking => `
                    <div class="booking-card">
                        <h4>–ó–∞—è–≤–∫–∞ #${booking.id}</h4>
                        <p>–ö–ª–∏–µ–Ω—Ç: ${booking.client.first_name} ${booking.client.last_name}</p>
                        <p>–¢–µ–ª–µ—Ñ–æ–Ω: ${booking.client.phone}</p>
                        <p>–ê–≤—Ç–æ–º–æ–±–∏–ª—å: ${booking.car.make} ${booking.car.model}</p>
                        <p>–ù–æ–º–µ—Ä: ${booking.car.plate_number}</p>
                        <p>–°—Ç–∞—Ç—É—Å: ${booking.status}</p>
                        <p>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞: ${new Date(booking.start_date).toLocaleString()}</p>
                        <p>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è: ${new Date(booking.end_date).toLocaleString()}</p>
                    </div>
                `).join('');
                
                document.getElementById('bookings-section').style.display = 'block';
                document.getElementById('maintenance-section').style.display = 'none';
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∑–∞—è–≤–æ–∫:', error);
            }
        }

        async function showMaintenance() {
            try {
                const response = await fetch('/api/admin/maintenance');
                const maintenance = await response.json();
                
                const maintenanceList = document.getElementById('maintenance-list');
                maintenanceList.innerHTML = maintenance.map(record => `
                    <div class="maintenance-card">
                        <h4>${record.car.make} ${record.car.model}</h4>
                        <p>–ù–æ–º–µ—Ä: ${record.car.plate_number}</p>
                        <p>–ì–æ–¥: ${record.car.year}</p>
                        <p>–ü—Ä–æ–±–µ–≥: ${record.car.mileage} –∫–º</p>
                        <p>–°—Ç–∞—Ç—É—Å: ${record.car.status}</p>
                    </div>
                `).join('');
                
                document.getElementById('maintenance-section').style.display = 'block';
                document.getElementById('bookings-section').style.display = 'none';
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –¢–û:', error);
            }
        }

        async function handleLogout() {
            try {
                await fetch('/api/logout', { method: 'POST' });
                localStorage.removeItem('userRole');
                localStorage.removeItem('userName');
                window.location.href = '/login';
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ:', error);
            }
        }
    </script> -->


<script defer src="{{ url_for('static', filename='js/login.js') }}"></script>
 
<footer class="footer">
    <div class="footer-content">
        <div class="footer-main">
            <!-- –û –∫–æ–º–ø–∞–Ω–∏–∏ -->
            <div class="footer-section">
                <h3>–û –∫–æ–º–ø–∞–Ω–∏–∏</h3>
                <p>
                    ¬´–ö–æ–ª–µ—Å–∞ –°–≤–æ–±–æ–¥—ã¬ª ‚Äî –ø—Ä–µ–º–∏–∞–ª—å–Ω–∞—è —Å–ª—É–∂–±–∞ –∞—Ä–µ–Ω–¥—ã –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π, 
                    —Å–æ–∑–¥–∞—é—â–∞—è –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è –æ—Ç –∫–∞–∂–¥–æ–π –ø–æ–µ–∑–¥–∫–∏.
                </p>
               <div class="footer-social">
                    <a href="https://t.me/+7dy3D68Lqps5N2My" target="_blank" aria-label="Telegram">üì®</a>
                </div>
            </div>

            <!-- –£—Å–ª—É–≥–∏ -->
            <div class="footer-section">
                <h3>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º—ã–µ —É—Å–ª—É–≥–∏</h3>
                <ul>
                    <li><a href="#">–ê–≤—Ç–æ–ø–∞—Ä–∫</a></li>
                    <li><a href="#">–û–Ω–ª–∞–π–Ω –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
                    <li><a href="#">–ë–æ–ª—å—à–æ–π –≤—ã–±–æ—Ä –∞–≤—Ç–æ</a></li>
                    <li><a href="#">–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–µ–∑–¥–æ–∫</a></li>
                    <li><a href="#">–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –∞—Ä–µ–Ω–¥–∞</a></li>
                </ul>
            </div>

          <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="footer-section">
                <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                <ul>
                    <li><a href="#">–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</a></li>
                    <li><a href="#">–ê—Ä–µ–Ω–¥–∞ –¥–ª—è –ª—é–±—ã—Ö —Ü–µ–ª–µ–π</a></li>
                    <li><a href="#">–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è</a></li>
                    <li><a href="#">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ 24/7</a></li>
                    <li><a href="#">–û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –∫–æ–º—Ñ–æ—Ä—Ç–∞</a></li>
                </ul>
            </div>

            <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
            <div class="footer-section">
                <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                <ul>
                    <li><a href="tel:+79999999999">+7 (925) 418-25-83</a></li>
                    <li><a href="mailto:info@wheels-freedom.ru">wheels-freedom@mail.ru</a></li>
                    <li><a href="#">–ú–æ—Å–∫–≤–∞, —É–ª. –û—Ö–æ—Ç–Ω—ã–π —Ä—è–¥, 2</a></li>
                    <li><a href="#">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: 24/7</a></li>
                </ul>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å —Ñ—É—Ç–µ—Ä–∞ -->
        <div class="footer-bottom">
            <p>¬© 2025 –ö–æ–ª–µ—Å–∞ –°–≤–æ–±–æ–¥—ã. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            <div class="footer-links">
                <a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                <a href="#">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
            </div>
        </div>
    </div>
</footer>

</body>
</html>